<%- include("partials/header") %>

<div class="song-container">

  <!-- FIX ME: It shows pause and play for all songs in all playlists. Make only the played song change icon. FIXED âœ…-->

    <% playlistSongs.forEach(function(song) { %>

      <% var uri = song.track.uri; %>

      <div class="song-item">
        <img src="<%=song.track.album.images[0].url%>" alt="Song Image" class="song-item-image">
        <div class="song-info">
          <div class="song-artist-name">
            <%= song.track.artists[0].name %>
          </div>
          <div class="song-name">
            <%= song.track.name %>
          </div>
        </div>
        <form action="/playlist/<%=current_playlist_id%>" method="post">
          <button class="song-item-button" type="submit" name="playlist_song_button" value="<%=uri%>">
            <% if (is_playing && current_song_id === song.track.id) { %>
              <i class="fa-solid fa-pause"></i>
            <% } else { %>
              <i class="fa-solid fa-play"></i>
            <% } %>
          </button>
        </form>
      </div>
      
        <% }) %>

</div>

<%- include("partials/footer", { is_playing: is_playing }) %>
